## Problem description

When we use Cordova file plugin, the problem reproduce. 



`package.json` is our dependence who can't use pdftron.

`package.json1` is dependence without Cordova file plugin.

`package.json2` is generated by ionic. It's not importance.



##Start

###Install ionic

```sh
npm install -g @ionic/cli
```



###config android studio

modifier `capacitor.config.json`

```
"windowsAndroidStudioPath": "directory of Android Studio .exe file
```



###Start program

install dependence

```sh
npm install
```



build angular code 

```sh
ionic build
```



add android planform

```sh
ionic cap add android
```



sync code

```sh
ionic cap sync
```



launch  Android Studio

```sh
npm cap run android
```



## Problem reproduce

Click image not loaded, reproduce the problem.



The importance Cordova dependence: 

```json
"cordova": {
	"plugins": {
        "cordova-plugin-file-transfer": {},
        "cordova-plugin-file": {},
        "cordova-plugin-filechooser": {},
        "cordova-plugin-file-opener2": {
        	"ANDROID_SUPPORT_V4_VERSION": "27.+"
        }
    }
},
```



The problem code:

```js
const data = await doc.getFileData({
    // saves the document with annotations in it
    xfdfString,
});
console.log(data)
```



the right log in Android Studio: 

```
I/Capacitor/Console: File: blob:http://localhost/1368d383-a538-4c39-a41a-0f70b8a021bb - Line 1 - Msg: Permission: write
I/Capacitor/Console: File: https://cdn.bootcss.com/vConsole/3.2.0/vconsole.min.js - Line 11 - Msg: [object ArrayBuffer]
```

the error log in Android Studio:

```
W/Capacitor/Console: File: http://localhost/wv-resources/lib/core/CoreControls.js - Line 190 - Msg: Invalid parameter in getDocument, need either Uint8Array, string or a parameter object
E/Capacitor/Console: File: http://localhost/wv-resources/lib/core/CoreControls.js - Line 925 - Msg: Uncaught (in promise) #<Object>
    File: http://localhost/wv-resources/lib/core/CoreControls.js - Line 217 - Msg: Uncaught (in promise) #<Object>
E/Capacitor/Console: File: http://localhost/wv-resources/lib/ui/index.html#d=https%3A%2F%2Fpdftron.s3.amazonaws.com%2Fdownloads%2Fpl%2Fwebviewer-demo.pdf&a=1&filepicker=0&pdfnet=0&enableRedaction=0&enableMeasurement=0&pageHistory=1&notesInLeftPanel=0&singleServerMode=false&selectAnnotationOnCreation=0&id=1 - Line 0 - Msg: Uncaught (in promise) #<Object>
```

